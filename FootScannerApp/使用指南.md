# 足部3D扫描应用 - 使用指南

## 📱 应用概述

这是一款专为儿童足部3D扫描设计的 iOS 应用，使用 Apple ARKit 技术实现高精度（3mm以内）的足部三维建模。

## 🎯 主要功能

### 1. 3D扫描功能
- 实时3D点云采集
- 高精度网格重建
- 扫描质量实时反馈
- 支持暂停和继续扫描

### 2. 数据管理
- 本地安全存储
- 扫描记录浏览
- 详细统计信息
- 一键删除管理

### 3. 多格式导出
- OBJ 格式（常用3D格式）
- PLY 格式（点云标准格式）
- USDZ 格式（Apple AR格式）

## 📖 详细使用步骤

### 第一步：准备工作

#### 环境准备
1. **光照要求**
   - 选择光线明亮的环境
   - 避免强烈的阴影
   - 推荐使用自然光或均匀的室内照明

2. **空间要求**
   - 需要约 1-2 平方米的开阔空间
   - 地面平整
   - 周围无过多杂物

3. **背景准备**（可选但推荐）
   - 在地面铺设白色或浅色背景布
   - 增强足部与背景的对比度
   - 提高扫描质量

#### 儿童准备
1. 让儿童坐在椅子上
2. 将需要扫描的足部放在地面或脚凳上
3. 保持足部放松自然的状态
4. 提醒儿童在扫描过程中尽量保持静止

### 第二步：开始扫描

1. **启动应用**
   - 打开"足部3D扫描器"应用
   - 允许相机权限（首次使用）

2. **进入扫描模式**
   - 点击主界面的"开始扫描"按钮
   - 等待 AR 初始化（显示扫描指南）

3. **扫描操作**

   **初始定位**
   - 将设备对准儿童足部
   - 距离保持在 30-50 厘米
   - 确保足部完整出现在屏幕中

   **开始录制**
   - 点击绿色的"开始扫描"按钮
   - 观察屏幕上的点云开始累积

   **扫描路径**（推荐按此顺序）
   ```
   前方 (0°)
      ↓
   右侧 (90°)
      ↓
   后方 (180°)
      ↓
   左侧 (270°)
      ↓
   上方 (俯视)
      ↓
   补充角度
   ```

   **移动技巧**
   - 移动速度要慢（约 10-15 cm/秒）
   - 保持设备平稳
   - 确保足部始终在视野中
   - 多角度覆盖所有区域

4. **监控质量**

   **查看指标**
   - 点云数量：建议达到 50,000 以上
   - 扫描质量：目标"优秀"或"良好"

   **质量说明**
   - "低"：需要继续扫描，数据不足
   - "中等"：可接受，建议继续优化
   - "优秀"：质量优良，可以完成

5. **暂停功能**（可选）
   - 如需调整，点击"暂停"按钮
   - 重新定位后继续扫描
   - 数据会累积保存

### 第三步：完成保存

1. **结束扫描**
   - 确认扫描质量达标
   - 点击红色"完成并保存"按钮

2. **命名保存**
   - 输入有意义的名称
   - 建议格式："姓名_日期_左/右足"
   - 例如："小明_20241120_右足"
   - 点击"保存"按钮

3. **自动返回**
   - 扫描完成后自动返回主界面
   - 可继续进行新的扫描

### 第四步：查看和管理

1. **查看扫描记录**
   - 在主界面点击"查看已保存扫描"
   - 浏览所有历史扫描

2. **查看详细信息**
   - 点击任意扫描记录
   - 查看详细统计数据：
     * 点云数量
     * 扫描精度
     * 网格顶点数
     * 三角面数量

3. **管理操作**

   **删除扫描**
   - 在列表中向左滑动
   - 点击"删除"按钮
   - 确认删除操作

   **导出扫描**
   - 在列表中向左滑动
   - 点击"导出"按钮
   - 或在详情页点击"导出扫描数据"

### 第五步：导出数据

1. **选择格式**

   **OBJ 格式**
   - 最通用的3D模型格式
   - 支持大多数3D软件
   - 推荐用于进一步编辑

   **PLY 格式**
   - 点云标准格式
   - 包含颜色和法线信息
   - 适合科学分析

   **USDZ 格式**
   - Apple AR 专用格式
   - 可在 iOS 设备上直接查看
   - 支持 AR Quick Look

2. **分享或保存**
   - 选择格式后出现分享菜单
   - 可以：
     * 保存到"文件"应用
     * 通过 AirDrop 发送
     * 发送到其他应用
     * 上传到云服务

## 💡 最佳实践

### 提高扫描质量的技巧

1. **多次扫描**
   - 如果首次结果不理想，可以重新扫描
   - 尝试调整光照条件
   - 从更多角度采集数据

2. **关键区域重点扫描**
   - 足弓部分：慢速移动，多角度
   - 脚趾区域：确保每个脚趾都被扫描
   - 脚跟部分：注意底部和侧面

3. **避免常见错误**
   - ❌ 移动过快导致模糊
   - ❌ 距离过远导致精度下降
   - ❌ 光线不足导致追踪失败
   - ❌ 足部移动导致数据混乱

### 针对不同情况的建议

**年龄较小的儿童**
- 让家长陪同安抚
- 可以让儿童观看动画片保持安静
- 扫描时间控制在 2-3 分钟内

**不配合的儿童**
- 先让其熟悉设备和环境
- 用游戏方式引导（"我们来拍魔法照片"）
- 可以分多次完成扫描

**特殊足型**
- 扁平足：特别注意足弓内侧
- 高足弓：注意足弓下方阴影区域
- 脚趾特殊：每个脚趾单独确认

## 📊 技术参数

### 精度说明
- **目标精度**：≤ 3mm
- **实际精度**：2.5-3.0mm（配备 LiDAR 设备）
- **影响因素**：
  * 设备型号（LiDAR vs 非LiDAR）
  * 光照条件
  * 扫描技巧
  * 对象静止程度

### 设备要求
- **推荐设备**：iPhone 12 Pro 及以上
- **最低要求**：支持 ARKit 的 iOS 设备
- **系统版本**：iOS 16.0 或更高

### 数据规模
- **点云数量**：通常 30,000 - 100,000 点
- **扫描时间**：2-5 分钟
- **文件大小**：每次扫描 5-15 MB
- **存储位置**：设备本地（Documents/FootScans）

## ❓ 常见问题

### Q1: 扫描过程中 AR 追踪丢失怎么办？
**A:**
- 停止移动设备，等待追踪恢复
- 如果无法恢复，点击"暂停"
- 改善光照条件后继续
- 确保地面有足够的纹理特征

### Q2: 点云数量一直很少怎么办？
**A:**
- 检查设备是否支持深度感应
- 靠近扫描对象（30-50cm）
- 放慢移动速度
- 检查光照是否充足

### Q3: 导出的模型有缺失怎么办？
**A:**
- 检查扫描质量是否达到"优秀"
- 重新扫描缺失的角度
- 确保足部各个部分都被充分扫描
- 尝试增加扫描时间

### Q4: 不同时间扫描的数据可以比较吗？
**A:**
- 可以，但需要使用专业软件对齐
- 记录扫描时的姿势和条件
- 建议保持一致的扫描方式
- 可用于跟踪儿童足部发育

### Q5: 扫描数据的隐私安全如何？
**A:**
- 所有数据仅存储在本地设备
- 不会上传到任何服务器
- 用户完全控制数据的删除和分享
- 建议设置设备密码保护

## 🔧 故障排除

### 应用崩溃或卡顿
1. 关闭其他后台应用
2. 重启应用
3. 检查存储空间是否充足
4. 更新到最新版本 iOS

### AR 功能无法启动
1. 检查相机权限是否开启
2. 确认设备支持 ARKit
3. 重启设备后再试
4. 更新系统版本

### 导出失败
1. 检查存储空间
2. 选择其他导出格式
3. 重新尝试导出
4. 删除无用的旧扫描

## 📞 技术支持

如遇到问题或有改进建议：
1. 查看项目 GitHub Issues
2. 查阅完整技术文档（README.md）
3. 联系开发团队

---

**祝您使用愉快！** 🎉
